# 微服务架构1:虚拟化

---

[toc]

> 虚拟机缺点:

* 开关机慢

* 占用资源多

  ---

解决思路: 使用 `Docker` 进行替换;



**可以安装的对象**

* 操作系统
* 数据库

```shell
docker run -it --rm ubuntu /bin/bash      #拉取镜像  -it 将 Ubuntu中的指令 转接到此Powershell中 --rm 删除虚拟机  运行该指令一次,就开一个 容器
## 此时,进入到容器中 

cat /etc/os-release  # 打印系统信息

exit  # 退出虚拟机 ;


docker run -it --rm openeuler/openeuler /bin/bash  # 拉取 华为欧若拉服务器镜像;

```

```shell
# 安装MySQL数据库
docker run --name mysql-demo -e MYSQL_ROOT_PASSWORD=Pass@word -p 13306:3306 -d mysql:latest   #本机的13306端口转发到虚拟机的 3306端口  -d 参数表示 后台开机运行

# 安装并运行Sqlserver数据库
docker run --name sqlserver-demo -e "ACCEPT_EULA=Y" -e "SA_PASSWORD=Pass@word" -p 11433:1433 -d mcr.microsoft.com/mssql/server:2019-latest

#安装并运行 mongodb 数据库
docker run --name mongodb-demo -p 37017:27017 -d mongo:latest
```

==建议 开启阿里等代理服务==

打开 MySQL管理工具  -- 建议是 IDEA 家族中的 数据库管理工具,下载相应的驱动 

连接设置 :

* name : `localhost:13306`
* Host:`localhost`
* Port : `13306`
* User: `root`
* Password: `Pass@word`  

连接测试 ,成功;

sqlserver  

用户 为sa 

密码 为Pass@word



==mongodb==  可以使用官方连接工具  mongodb compass



极大简化 软件 安装部署工作;

----

## 容器优点

* 启动非常快
* 内存硬盘占用少
* 几乎可以安装一切  

安装 Docker 之前 先安装WSL , window 下的 Linux; 



**如何理解 为何容器这么快速?**

近似是在本机的Linux上运行

隔离  且 独立 ;